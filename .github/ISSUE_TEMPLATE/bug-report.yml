name: Bug report
description: File a reproducible bug
title: "bug: <short description>"
labels: ["bug"]
assignees: []
body:
  - type: markdown
    attributes:
      value: |
        Thanks for reporting a bug! Please fill out the details below so we can reproduce.
  - type: input
    id: version
    attributes:
      label: Version
      description: Tag or commit (e.g., v0.1.0 or SHA)
      placeholder: v0.1.0
    validations:
      required: true
  - type: dropdown
    id: runtime
    attributes:
      label: How are you running Enq?
      options:
        - Docker (dclaywell/enq-api + dclaywell/enq-scheduler)
        - GHCR (ghcr.io/sirclappington/*)
        - Built from source (Go)
        - Other
    validations:
      required: true
  - type: input
    id: environment
    attributes:
      label: Environment
      description: OS/arch, Docker/Go versions, DB version
      placeholder: e.g., Ubuntu 22.04 amd64, Docker 27.0, Postgres 16
  - type: textarea
    id: steps
    attributes:
      label: Steps to reproduce
      description: Minimal steps that trigger the bug
      placeholder: |
        1. Start DB
        2. Start API and Scheduler
        3. POST /v1/jobs with payload X
        4. Observe error Y
      render: bash
    validations:
      required: true
  - type: textarea
    id: expected
    attributes:
      label: Expected behavior
    validations:
      required: true
  - type: textarea
    id: actual
    attributes:
      label: Actual behavior and logs
      description: Include relevant logs (redact secrets)
      render: text
    validations:
      required: true
  - type: textarea
    id: config
    attributes:
      label: Config / env vars
      description: ENQ_DB_URL, ENQ_POLL_INTERVAL_MS, etc. (redact secrets)
      render: text
  - type: checkboxes
    id: checks
    attributes:
      label: Checks
      options:
        - label: I searched existing issues
          required: true
        - label: This is not a security vulnerability
          required: true
